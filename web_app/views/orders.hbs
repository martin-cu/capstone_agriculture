<div class="container-fluid" >
    <h3 class="text-dark mb-4" style="font-weight: bold;color: #332c1f;"></a>&nbsp;Orders&nbsp;</h3>
    <div class="row" style="padding: 0px 12px;">
        <div class="col-xxl-7">
            <div class="table-responsive" style="border-style: none;">
                <table class="table">
                    <thead>
                        <tr>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Mon</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-cloud-showers-heavy justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Tue</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-cloud-meatball justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Wed</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-sun justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Thu</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-poo-storm justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Fri</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-cloud-sun justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Sat</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-cloud justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Sun</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-sun justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                            <th style="border-style: none;">
                                <h4 class="justify-content-xl-center" style="color: #332C1F;font-size: 20px;">Mon</h4>
                                <h6 class="text-muted justify-content-xl-center mb-2"><i class="fas fa-cloud-showers-heavy justify-content-xl-center" style="color: #332C1F;font-size: 35px;"></i></h6><small class="form-text" style="color: #332C1F;">29°</small><small class="form-text" style="color: #332C1F;margin-left: 16px;">29°</small>
                            </th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>


    <div class="row" style="padding: 0px 12px;">
        <div class="col-xxl-9"><label class="form-label d-xxl-flex justify-content-xxl-start" for="username" style="color: #332c1f;"><strong>All Farms</strong></label>
            <div class="card">
                <div class="card-header" role="tab" style="background: #939C1F;padding: 16px 20px;height: auto;">
                    <h5 class="mb-0"><a data-toggle="collapse" aria-expanded="false" aria-controls="accordion-1 .item-1" href="#accordion-1 .item-1" style="font-size: 16px;color: rgb(255,255,255);font-weight: bold;">Create Work Order</a></h5>
                </div>
                <div class="collapse item-1" role="tabpanel" data-parent="#accordion-1">
                    <div class="card-body">
                        <form class="register-form">
                            <fieldset>
                                <div class="form-row">
                                    <div class="col-6 col-sm-6 col-md-6"><label>Farm</label>
                                        <div id="lp-name-wrapper"></div><select class="form-control" id="lp-select-1">
                                            <option value="">Farm 1</option>
                                            <option value="">Farm 2</option>
                                        </select>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6"><label>Type</label>
                                        <div id="lp-lastname-wrapper"></div><select class="form-control" id="lp-select-2">
                                            <option value="">Pesticide Application</option>
                                            <option value="">Fertilizer Application</option>
                                        </select>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6">
                                        <div id="lp-name-wrapper-1"><label>Description</label><input class="form-control" type="text" id="lp-name-1" placeholder="Short description on the work order"></div>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6">
                                        <div id="lp-lastname-wrapper-1"></div>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6">
                                        <div id="lp-name-wrapper-3"><label>Start Date</label><input class="form-control" type="date"></div>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6">
                                        <div id="lp-lastname-wrapper-2"></div><label>Due Date</label><input class="form-control" type="date">
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-12"><label>Resources Used</label>
                                        <div id="lp-mail-wrapper"><select class="form-control d-inline-flex" id="lp-select-3" style="width: 450px;">
                                                <option value="">Pesticide </option>
                                                <option value="">Fertilizer </option>
                                            </select><input class="form-control d-inline-flex" type="number" style="width: 200px;margin-left: 10px;" placeholder="amount"><label style="margin-left: 10px;">units</label><i class="fa fa-plus-circle" style="margin-left: 15px;"></i></div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-12">
                                        <div id="customfield1-wrapper"><label>Notes</label><input class="form-control" type="text" id="customfield1" placeholder="Notes for the work order"></div>
                                    </div>
                                    <div class="col-12 col-sm-6 col-md-12">
                                        <div id="lp-check1-wrapper">
                                            <div class="form-check"><input class="form-check-input" type="checkbox" id="lp-check1"><label class="form-check-label checboxtext" for="lp-check1" style="color: rgb(133,135,150);">Harvested</label></div>
                                        </div>
                                    </div>
                                    <div class="col-6 col-sm-6 col-md-6">
                                        <div id="lp-name-wrapper-2"><label class="d-block">Rice Yield</label><input class="form-control d-inline-flex" type="number" style="width: 300px;"><label class="d-inline-flex" style="margin-left: 10px;">sacks</label></div>
                                    </div>
                                    <div class="col-md-12"><input class="form-control d-none" type="text" id="lp-country"><input class="form-control d-none" type="text" id="lp-website"><input class="form-control d-none" type="text" id="lp-city"><input class="form-control d-none" type="text" id="customfield10"><input class="form-control d-none" type="text" id="customfield9"><input class="form-control d-none" type="text" id="customfield8"><input class="form-control d-none" type="text" id="customfield7"><input class="form-control d-none" type="text" id="customfield6"><input class="form-control d-none" type="text" id="customfield5"><input class="form-control d-none" type="text" id="customfield4"><input class="form-control d-none" type="text" id="customfield3"><input class="form-control d-none" type="text" id="customfield2"><input class="form-control d-none" type="text" id="lp-select3"><input class="form-control d-none" type="text" id="lp-select2"><input class="form-control d-none" type="text" id="lp-check5"><input class="form-control d-none" type="text" id="lp-check4"><input class="form-control d-none" type="text" id="lp-check3"><input class="form-control d-none" type="text" id="lp-check2"><input class="form-control d-none" type="text" id="lp-telareacode"><input class="form-control d-none" type="text" id="lp-telcountrycode"></div>
                                    <div class="col-12 col-sm-12 col-md-12"><button class="btn btn-primary float-right shadow" type="button" style="border-radius: 20px;padding: 5px 18px;background: #EDD172;border-style: none;color: rgb(51,44,31);">Create Work Order</button></div>
                                </div>
                            </fieldset>
                        </form>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header" style="height: auto;background: rgba(255,165,0,0);">
                    <a class="btn btn-primary d-flex float-end" role="button" style="background: #EDD172;border-style: none;color: #332c1f;border-radius: 20px; " data-toggle="modal" data-target="#addPurchaseModal">Add Purchase</a>
                    <ul class="nav nav-tabs card-header-tabs">
                        <li class="nav-item"><a id="per_farm" class="nav-link purchases_tab active" href="#" style="background: #F0F0F0;">Farms</a></li>
                        <li class="nav-item"><a id="all_farms" class="nav-link purchases_tab" href="#" >All</a></li>
                    </ul>
                </div>
                <div class="card-body">
                    <div id="all_farm_materials" hidden>
                        <div class="row table-topper align-items-center">
                            <div class="col-4 text-start" style="margin: 0px;padding: 5px 15px;"><button class="btn btn-primary btn-sm reset" type="button" style="padding: 5px;margin: 2px;">Reset Filters</button><button class="btn btn-warning btn-sm" id="zoom_in" type="button" zoomclick="ChangeZoomLevel(-10);" style="padding: 5px;margin: 2px;"><i class="fa fa-search-plus"></i></button><button class="btn btn-warning btn-sm" id="zoom_out" type="button" zoomclick="ChangeZoomLevel(-10);" style="padding: 5px;margin: 2px;"><i class="fa fa-search-minus"></i></button></div>
                            <div class="col-4 text-center" style="margin: 0px;padding: 5px 10px;">
                                <h6 id="counter">Showing: <strong id="rowCount">ALL</strong>&nbsp;Row(s)</h6>
                            </div>
                            <div class="col-4 text-end" style="margin: 0px;padding: 5px 10px;"><a href="#" data-bs-toggle="modal" data-bs-target="#tablehelpModal"><i class="fa fa-question-circle" title="Custom Sort Details" aria-hidden="true" style="padding: 5px 15px;margin: 2px;" data-bs-toggle="tooltip" data-bs-placement="top"></i></a></div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div>
                                    <table class="table table tablesorter" id="ipi-table">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th>Farm</th>
                                                <th>Name</th>
                                                <th>Material type</th>
                                                <th>Amount</th>
                                                <th>Unit</th>
                                                <th>Request date</th>
                                                <th>Date purchased date</th>
                                                <th>Status</th>
                                                {{!-- <th>cost per unit</th> --}}
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody id="materials_table">
                                                {{#each purchases}}
                                                    <tr class="clickable">
                                                        <td>{{this.farm_name}}</td>
                                                        <td>{{this.item_name}}</td>
                                                        <td>{{this.item_type}}</td>
                                                        <td>{{this.amount}}</td>
                                                        <td>{{this.units}}</td>
                                                        <td>{{this.request_date}}</td>
                                                        <td>{{this.date_purchased}}</td>
                                                        <td>{{this.purchase_status}}</td>
                                                        <td>{{#if blank}}{{else}}<i class="fa fa-ellipsis-h d-inline float-end" style="text-align: right;">{{/if}}</i></td>
                                                    </tr>
                                                {{/each}}
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                <div id="per_farm_materials">
                    {{#each farms}}
                        <div class="row farm_inventory aos-init" data-aos="flip-up" data-aos-duration="450" style="margin: 1rem 1rem;">
                                <div class="col-xl-3" style="padding: 2rem;">
                                    <div class="" >
                                        <div class="">
                                            <h4 class="card-title">{{this.farm_name}}</h4>
                                            <p class="">{{this.farm_desc}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col" style="padding: 1rem;">
                                    <div class="table-responsive" style="height: 200px;">
                                        <table class="table" style="width : 100%">
                                            <thead style="">
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Material type</th>
                                                    <th>Amount</th>
                                                    <th>Unit</th>
                                                    <th>Request date</th>
                                                    <th>Date purchased date</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody style="overflow: auto">
                                                {{#each this.farm_purchases}}
                                                    <tr>
                                                        <td>{{this.item_name}}</td>
                                                        <td>{{this.item_type}}</td>
                                                        <td>{{this.amount}}</td>
                                                        <td>{{this.units}}</td>
                                                        <td>{{this.request_date}}</td>
                                                        <td>{{this.date_purchased}}</td>
                                                        <td>{{this.purchase_status}}</td>
                                                    </tr>
                                                {{/each}}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        {{/each}}
                </div>
                
            </div>
            
        </div>
        <div class="col">
            <div class="row">
                <div class="col">
                    <div class="card shadow mb-4">
                        <div class="card-header " style="height: auto;background: rgba(255,165,0,0);">
                            <h6 class="fw-bold m-0" style="color: #FFFFFF;">Pending Orders</h6>
                        </div>
                        <div class="card-body">
                            {{#each pending}}
                                <div class="card" style="border-color: rgb(78,79,85);margin-bottom: 10px; padding-left :20px;padding-right :20px;">
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label">{{this.item_name}}</label></div>
                                            <div class="mb-3"><label class="form-label">{{this.request_date}}</label></div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3 text-right"><label class="form-label">{{this.amount}} {{this.units}}</label></div>
                                            <div class="mb-3 text-right"><label class="form-label">Php {{this.purchase_price}}</label></div>
                                        </div>
                                    </div>
                                </div>
                            {{/each}}
                                
                        </div>
                        
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="card shadow mb-4" >
                        <div class="card-header " style="height: auto;background: rgba(255,165,0,0);">
                            <h6 class="fw-bold m-0" style="color: #FFFFFF;">Processing Orders</h6>
                        </div>
                        <div class="card-body">
                            {{#each processing}}
                                <div class="card" style="border-color: rgb(78,79,85);margin-bottom: 10px; padding-left :20px;padding-right :20px;">
                                    <div class="row">
                                        <div class="col">
                                            <div class="mb-3"><label class="form-label">{{this.item_name}}</label></div>
                                            <div class="mb-3"><label class="form-label">{{this.request_date}}</label></div>
                                        </div>
                                        <div class="col">
                                            <div class="mb-3 text-right"><label class="form-label">{{this.amount}} {{this.units}}</label></div>
                                            <div class="mb-3 text-right"><label class="form-label">Php {{this.purchase_price}}</label></div>
                                        </div>
                                    </div>
                                </div>
                            {{/each}}
                                
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
            
    </div>

</div>



<div class="modal fade" id="addPurchaseModal" role="dialog">
    <div class="modal-dialog modal-lg" >
      <!-- Modal content-->
      <div class="modal-content">
            <div class="modal-header" ><h4 class="modal-title">New Purchase</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          
        </div>
        <div class="modal-body">
            <div class="card-body" id="step1_new_purchase" style="max-height: 500px; overflow-y : auto; overflow-x: hidden;" >
                <form id="new_purchase" action="/addPurchase" method="post">
                    <div class="row">
                        <div class="col">
                            <h4>Enter Details</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-5">
                            <div class="mb-3"><label class="form-label" for="first_name"><strong>Farm</strong><br /></label>
                                <div class="dropdown">
                                    <select class="form-select required" id="farm" name="farm" form="new_purchase">
                                        <option disabled selected value> -- select an option -- </option>
                                        {{#each farms}}
                                            <option value="{{this.farm_id}}">{{this.farm_name}}</option>
                                        {{/each}}
                                    </select>
                                </div></div>
                        </div>
                    </div>
                    <div class="row" style="height : 30px;">
                        <div class="col">
                            <div class="mb-3"><label class="form-label" ><strong>Type</strong></label>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3"><label class="form-label" ><strong>Item</strong></label>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3"><label class="form-label"><strong>Amount</strong></label></div>
                        </div>
                    </div>
                    <div class="row last_item">
                        <div class="col">
                            <div class="mb-3">
                                <div class="dropdown">
                                    <select class="form-select purchase_item_type " id="item_type1" name="item[0][type]" form="new_purchase">
                                        <option value="Seed">Seed</option>
                                        <option value="Pesticide">Pesticide</option>
                                        <option value="Fertilizer">Fertilizer</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <div class="dropdown">
                                    <select class="form-select required" id="item1" name="item[0][item]" form="new_purchase">
                                        <option disabled selected value> -- select an option -- </option>
                                        {{#each seeds}}
                                            <option class="material_item1"value="{{this.id}}">{{this.name}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3">
                                <div style="display: flex; flex-flow: row;"><input class="form-control text-right required" type="number" placeholder="amount" id="item_amt1" name="item[0][amount]" form="new_purchase" style="width: 50%;" /><span style="padding: 10px;" id="item_unit1">Kg</span></div></div>
                        </div>
                    </div>
                    
                </form>
                    <div class="row">
                        <div class="col-4">
                        </div>
                            <div class="col-4">
                                <center><button class="btn btn-primary btn-sm" id="add-btn-mat" value="2">Add</button></center>
                            </div>
                        <div class="col-4">

                        </div>
                    </div>
                
                    <div class="mb-3"><button class="btn btn-primary btn-sm new_purchase" style="float : right; margin: 15px;" id="step1">Next</button></div>
                
            </div>
            


            <div class="card-body" id="step2_new_purchase" style="display : none">
                    <div class="row">
                        <div class="col">
                            <h4>Review</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-5">
                            <div class="mb-3"><label class="form-label" for="new_purchase"><strong>Farm</strong><br /></label>
                                <div class="dropdown">
                                    <label class="form-label" id="review_farm">FARM NAME</label>
                                </div></div>
                        </div>
                    </div>
                    <div class="row" style="height : 30px;">
                        <div class="col">
                            <div class="mb-3"><label class="form-label" ><strong>Type</strong></label>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3"><label class="form-label" ><strong>Item</strong></label>
                            </div>
                        </div>
                        <div class="col">
                            <div class="mb-3"><label class="form-label"><strong>Amount</strong></label></div>
                        </div>
                    </div>

                    <div class="mb-3" id="buttons"><button class="btn btn-primary btn-sm " style="float : right; margin-left: 10px;" id="step2" type="submit" form="new_purchase">Add Item</button><button class="btn btn-primary btn-sm new_purchase" style=" float:right; width: auto; border-radius : 20px; background-color: rgb(236, 236, 236)" id="back" form="">Back</button></div>
                </div>

        </div>
        <div style="text-align:center;margin-top:10px;padding-bottom:10px">
                        <span class="step active" id="step1_status"></span>
                        <span class="step " id="step2_status"></span>
            </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
</div>